<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ôn tập Trí tuệ Nhân tạo - Theo Bài giảng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Study -->
    <!-- Application Structure Plan: Restructured the SPA to have 10 sections, each corresponding to a lecture file (Lect. 1-8, 10-11) as requested. This lecture-based navigation allows for a linear, progressive review of the course material. Each section summarizes the key concepts from its respective PDF. Interactive elements (charts, simulations) are now placed within their relevant lecture sections to provide context. The AI assistant is retained in each section to support learning on a per-lecture basis. -->
    <!-- Visualization & Content Choices: Content is summarized into key points using cards and lists. The search algorithm comparison chart from Chart.js is placed in Lect. 4. The CSP backtracking simulation is in Lect. 7. The Perceptron/XOR visualization is in Lect. 11. The Gemini API is used for contextual Q&A and explanations within each lecture's topic. No SVG/Mermaid is used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f5f5f4;
            color: #292524;
        }
        .nav-btn {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-btn.active {
            border-bottom-color: #0d9488;
            color: #0d9488;
            font-weight: 500;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        .prose-styles ul { list-style-type: disc; margin-left: 1.5rem; }
        .prose-styles ol { list-style-type: decimal; margin-left: 1.5rem; }
        .prose-styles h3 { font-size: 1.25rem; font-weight: bold; margin-top: 1rem; }
        .prose-styles p { margin-top: 0.5rem; }
        .prose-styles strong { font-weight: bold; }
        .prose-styles code {
            background-color: #e7e5e4;
            padding: 0.1rem 0.3rem;
            border-radius: 0.25rem;
            font-family: monospace;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0d9488;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 1rem auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-stone-800">Trí tuệ Nhân tạo</h1>
            <p class="text-lg text-stone-600 mt-2">Tổng hợp bài giảng</p>
        </header>

        <nav id="main-nav" class="flex flex-wrap justify-center border-b border-stone-300 mb-8">
            <button data-topic="Giới thiệu AI" data-target="lect1" class="nav-btn p-3 md:p-4 text-xs md:text-base active">Bài 1</button>
            <button data-topic="Tác tử" data-target="lect2" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 2</button>
            <button data-topic="Tổng quan Tìm kiếm" data-target="lect3" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 3</button>
            <button data-topic="Tìm kiếm không thông tin" data-target="lect4" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 4</button>
            <button data-topic="Tìm kiếm có thông tin" data-target="lect5" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 5</button>
            <button data-topic="Tìm kiếm cục bộ" data-target="lect6" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 6</button>
            <button data-topic="Bài toán CSP" data-target="lect7" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 7</button>
            <button data-topic="Logic mệnh đề" data-target="lect8" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 8</button>
            <button data-topic="Tổng quan Học máy" data-target="lect10" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 10</button>
            <button data-topic="Mạng Nơ-ron" data-target="lect11" class="nav-btn p-3 md:p-4 text-xs md:text-base">Bài 11</button>
          <a href="thithu.html" > <button data-topic="Thi Thử" data-target="lect11" class="nav-btn p-3 md:p-4 text-xs md:text-base">Thi thử</button></a>
        </nav>

        <main id="content-container">
            <!-- Section: Lecture 1 -->
            <section id="lect1" class="content-section active space-y-6">
                <h2 class="text-3xl font-bold text-center text-teal-800">Bài 1: Giới thiệu Trí tuệ Nhân tạo</h2>
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">Các định nghĩa về AI</h3>
                    <p>AI có thể được định nghĩa theo 4 cách tiếp cận, dựa trên hai chiều: suy nghĩ so với hành động, và con người so với hợp lý.</p>
                    <ul class="list-disc list-inside mt-2 text-stone-600">
                        <li><b>Suy nghĩ như người:</b> Mô hình hóa quá trình nhận thức.</li>
                        <li><b>Hành động như người:</b> Vượt qua Phép thử Turing.</li>
                        <li><b>Suy nghĩ hợp lý:</b> Dùng logic hình thức để suy luận.</li>
                        <li><b>Hành động hợp lý:</b> Thiết kế các tác tử (agents) hành động để đạt kết quả tốt nhất. (Hướng tiếp cận chính của môn học).</li>
                    </ul>
                </div>
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">Lịch sử phát triển và Ứng dụng</h3>
                    <p class="text-stone-600">AI đã trải qua nhiều giai đoạn từ "thai nghén" (1943-1955), kỳ vọng lớn (1952-1969), khó khăn, đến khi trở thành một ngành công nghiệp. Các ứng dụng của AI rất đa dạng: từ hệ chuyên gia, nhận dạng tiếng nói, xử lý ảnh y tế đến xe tự lái, robot và các trò chơi thông minh.</p>
                </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>

            <!-- Section: Lecture 2 -->
            <section id="lect2" class="content-section space-y-6">
                <h2 class="text-3xl font-bold text-center text-teal-800">Bài 2: Tác tử (Agents)</h2>
                <div class="card">
                     <h3 class="text-xl font-bold mb-2">Tác tử và Môi trường</h3>
                     <p class="text-stone-600">Một tác tử là một thực thể nhận thức môi trường qua <b>cảm biến (sensors)</b> và hành động lên môi trường qua <b>cơ cấu hoạt động (actuators)</b>. Khung làm việc <b>PEAS</b> (Performance, Environment, Actuators, Sensors) được dùng để mô tả môi trường nhiệm vụ.</p>
                </div>
                <div class="card">
                     <h3 class="text-xl font-bold mb-2">Kiến trúc của các Tác tử</h3>
                     <p>Có 4 loại tác tử cơ bản:</p>
                     <ol class="list-decimal list-inside mt-2 text-stone-600 space-y-1">
                        <li><b>Tác tử phản xạ đơn giản:</b> Dựa trên luật `điều kiện-hành động` với thông tin hiện tại.</li>
                        <li><b>Tác tử phản xạ dựa trên mô hình:</b> Duy trì một mô hình nội bộ về trạng thái thế giới.</li>
                        <li><b>Tác tử dựa trên mục tiêu:</b> Hành động để đạt được mục tiêu (goals).</li>
                        <li><b>Tác tử dựa trên lợi ích:</b> Chọn hành động để tối đa hóa hàm lợi ích (utility function).</li>
                     </ol>
                </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>
            
            <!-- Section: Lecture 3 -->
            <section id="lect3" class="content-section space-y-6">
                 <h2 class="text-3xl font-bold text-center text-teal-800">Bài 3: Tổng quan về Tìm kiếm</h2>
                 <div class="card">
                     <h3 class="text-xl font-bold mb-2">Định nghĩa bài toán tìm kiếm</h3>
                     <p>Một bài toán tìm kiếm được xác định bởi 5 thành phần:</p>
                    <ol class="list-decimal list-inside text-stone-600 space-y-1 mt-2">
                        <li><b>Trạng thái ban đầu (Initial State)</b></li>
                        <li><b>Các hành động (Actions)</b></li>
                        <li><b>Mô hình chuyển tiếp (Transition Model)</b></li>
                        <li><b>Kiểm tra đích (Goal Test)</b></li>
                        <li><b>Chi phí đường đi (Path Cost)</b></li>
                    </ol>
                 </div>
                 <div class="card">
                     <h3 class="text-xl font-bold mb-2">Cấu trúc Tìm kiếm và Đánh giá</h3>
                     <p class="text-stone-600">Quá trình tìm kiếm được biểu diễn bằng một <b>cây tìm kiếm (search tree)</b>. Các thuật toán tìm kiếm được đánh giá dựa trên:</p>
                     <ul class="list-disc list-inside mt-2 text-stone-600">
                        <li><b>Hoàn chỉnh (Completeness):</b> Có luôn tìm ra nghiệm không?</li>
                        <li><b>Tối ưu (Optimality):</b> Có tìm ra nghiệm tốt nhất không?</li>
                        <li><b>Độ phức tạp thời gian & không gian:</b> Mất bao lâu và cần bao nhiêu bộ nhớ?</li>
                     </ul>
                 </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>
            
            <!-- Section: Lecture 4 -->
            <section id="lect4" class="content-section space-y-6">
                 <h2 class="text-3xl font-bold text-center text-teal-800">Bài 4: Tìm kiếm không có thông tin</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">Các chiến lược tìm kiếm này (còn gọi là tìm kiếm mù) chỉ sử dụng thông tin có trong định nghĩa bài toán.</p>
                 <div class="card mb-8">
                     <h3 class="text-xl font-bold mb-2">Các thuật toán chính</h3>
                     <ul class="list-disc list-inside mt-2 text-stone-600">
                        <li><b>Tìm kiếm theo chiều rộng (BFS):</b> Mở rộng nút nông nhất. Dùng hàng đợi FIFO. Hoàn chỉnh và tối ưu (với chi phí bước bằng nhau).</li>
                        <li><b>Tìm kiếm chi phí cực tiểu (UCS):</b> Mở rộng nút có chi phí đường đi $g(n)$ nhỏ nhất. Dùng hàng đợi ưu tiên. Hoàn chỉnh và tối ưu.</li>
                        <li><b>Tìm kiếm theo chiều sâu (DFS):</b> Mở rộng nút sâu nhất. Dùng ngăn xếp LIFO. Không tối ưu, không hoàn chỉnh nếu có vòng lặp vô hạn.</li>
                        <li><b>Tìm kiếm lặp sâu dần (IDS):</b> Kết hợp ưu điểm của BFS và DFS. Hoàn chỉnh và tối ưu.</li>
                     </ul>
                 </div>
                 <div class="card mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-center">So sánh các thuật toán tìm kiếm mù</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left" id="algo-table-uninformed">
                            <thead><tr class="border-b"><th class="p-2">Thuật toán</th><th class="p-2">Hoàn chỉnh?</th><th class="p-2">Tối ưu?</th><th class="p-2">Time</th><th class="p-2">Space</th></tr></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>

            <!-- Section: Lecture 5 -->
            <section id="lect5" class="content-section space-y-6">
                <h2 class="text-3xl font-bold text-center text-teal-800">Bài 5: Tìm kiếm có thông tin (Heuristic)</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">Chiến lược tìm kiếm này sử dụng thông tin bổ sung về bài toán thông qua một hàm heuristic $h(n)$ để ước lượng chi phí từ trạng thái $n$ đến đích.</p>
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">Các thuật toán chính</h3>
                    <ul class="list-disc list-inside mt-2 text-stone-600">
                        <li><b>Tìm kiếm tham lam (Greedy Best-First):</b> Mở rộng nút có vẻ gần đích nhất. Hàm đánh giá: $f(n) = h(n)$. Nhanh nhưng không tối ưu.</li>
                        <li><b>Tìm kiếm A* (A-Star):</b> Mở rộng nút có tổng chi phí ước tính $f(n) = g(n) + h(n)$ nhỏ nhất, trong đó $g(n)$ là chi phí thực tế.</li>
                    </ul>
                </div>
                 <div class="card">
                    <h3 class="text-xl font-bold mb-2">Tính chất của A* và hàm Heuristic</h3>
                    <p class="text-stone-600">A* là tối ưu nếu hàm heuristic $h(n)$ là <b>chấp nhận được (admissible)</b>, tức là $h(n)$ không bao giờ đánh giá quá cao chi phí thực tế đến đích. Nếu dùng GRAPH-SEARCH, $h(n)$ cần phải <b>đồng nhất (consistent)</b> để đảm bảo tính tối ưu.</p>
                </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>

            <!-- Section: Lecture 6 -->
            <section id="lect6" class="content-section space-y-6">
                 <h2 class="text-3xl font-bold text-center text-teal-800">Bài 6: Tìm kiếm Cục bộ (Local Search)</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">Thay vì khám phá các đường đi, thuật toán tìm kiếm cục bộ cải thiện dần một nghiệm duy nhất. Các thuật toán này rất hiệu quả về bộ nhớ.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="card">
                        <h4 class="font-bold text-lg">Leo đồi (Hill-Climbing)</h4>
                        <p class="text-sm text-stone-600">Luôn di chuyển đến trạng thái láng giềng có giá trị tốt hơn. Nhược điểm là dễ bị "kẹt" ở cực trị cục bộ (local optimum).</p>
                    </div>
                    <div class="card">
                        <h4 class="font-bold text-lg">Mô phỏng Luyện kim</h4>
                        <p class="text-sm text-stone-600">Để thoát khỏi cực trị cục bộ, thuật toán này cho phép các bước di chuyển "xấu" (xuống dốc) với một xác suất giảm dần theo thời gian.</p>
                    </div>
                    <div class="card">
                        <h4 class="font-bold text-lg">Thuật toán Di truyền</h4>
                        <p class="text-sm text-stone-600">Duy trì một "quần thể" các nghiệm và tạo ra thế hệ mới tốt hơn thông qua các toán tử <b>chọn lọc</b>, <b>lai ghép</b> và <b>đột biến</b>.</p>
                    </div>
                </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>
            
            <!-- Section: Lecture 7 -->
            <section id="lect7" class="content-section space-y-6">
                 <h2 class="text-3xl font-bold text-center text-teal-800">Bài 7: Bài toán Thỏa mãn Ràng buộc (CSP)</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">CSP là một loại bài toán mà nghiệm phải thỏa mãn một tập hợp các ràng buộc. Kỹ thuật lan truyền ràng buộc và tìm kiếm quay lui là chìa khóa để giải quyết chúng.</p>
                 <div class="card mb-8">
                     <h3 class="text-xl font-bold mb-2">Các khái niệm chính</h3>
                     <ul class="list-disc list-inside mt-2 text-stone-600">
                        <li><b>Định nghĩa CSP:</b> Gồm 3 thành phần (X: tập biến, D: tập miền giá trị, C: tập ràng buộc).</li>
                        <li><b>Lan truyền ràng buộc:</b> Dùng ràng buộc để giảm miền giá trị hợp lệ. Ví dụ: Cung nhất quán (Arc Consistency - AC-3).</li>
                        <li><b>Tìm kiếm quay lui (Backtracking):</b> Một dạng DFS gán giá trị cho từng biến, nếu vi phạm ràng buộc thì quay lui. Có thể cải tiến bằng Kiểm tra tiến (Forward Checking).</li>
                        <li><b>Tìm kiếm cục bộ cho CSP:</b> Dùng heuristic min-conflicts - chọn giá trị vi phạm ít ràng buộc nhất.</li>
                     </ul>
                 </div>
                 <div class="card mb-8">
                     <h3 class="text-xl font-bold mb-2">Mô phỏng: Tô màu bản đồ với Backtracking</h3>
                     <div class="flex flex-col md:flex-row gap-8 items-center">
                        <div class="flex-1 w-full"><div id="csp-map" class="grid grid-cols-3 gap-1 max-w-sm mx-auto p-2 bg-stone-200 rounded-lg"><div data-id="WA" class="col-span-1 row-span-2 p-4 border border-stone-400 bg-white rounded flex items-center justify-center h-24">WA</div><div data-id="NT" class="col-span-1 p-4 border border-stone-400 bg-white rounded flex items-center justify-center h-12">NT</div><div data-id="Q" class="col-span-1 p-4 border border-stone-400 bg-white rounded flex items-center justify-center h-12">Q</div><div data-id="SA" class="col-span-1 p-4 border border-stone-400 bg-white rounded flex items-center justify-center h-12">SA</div><div data-id="NSW" class="col-span-1 p-4 border border-stone-400 bg-white rounded flex items-center justify-center h-12">NSW</div><div class="col-span-1"></div><div data-id="V" class="col-span-1 p-4 border border-stone-400 bg-white rounded flex items-center justify-center h-12">V</div></div></div>
                        <div class="flex-1 w-full"><div id="csp-log" class="h-48 bg-stone-100 p-4 rounded-lg overflow-y-auto border"><p class="font-mono text-sm">Nhấn "Bắt đầu"...</p></div><div class="mt-4 flex gap-4"><button id="start-csp" class="bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700">Bắt đầu</button><button id="reset-csp" class="bg-stone-500 text-white px-4 py-2 rounded-lg hover:bg-stone-600">Làm lại</button></div></div>
                     </div>
                 </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>

            <!-- Section: Lecture 8 -->
            <section id="lect8" class="content-section space-y-6">
                <h2 class="text-3xl font-bold text-center text-teal-800">Bài 8: Logic Mệnh đề</h2>
                <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">Tác tử logic sử dụng một cơ sở tri thức (KB) và các quy tắc suy diễn để đưa ra quyết định.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                     <div class="card">
                        <h3 class="text-xl font-bold mb-2">Suy diễn logic</h3>
                        <p class="mb-4">Câu hỏi cơ bản là liệu $KB \models \alpha$ (KB có kéo theo câu $\alpha$ không). Có thể chứng minh bằng bảng chân lý hoặc các luật suy diễn.</p>
                    </div>
                     <div class="card">
                        <h3 class="text-xl font-bold mb-2">Các luật suy diễn quan trọng</h3>
                         <ul class="list-disc list-inside mt-2 text-stone-600">
                            <li><b>Modus Ponens:</b> Từ $(\alpha \Rightarrow \beta)$ và $\alpha$, suy ra $\beta$.</li>
                            <li><b>Phân giải (Resolution):</b> Từ $(\alpha \vee \beta)$ và $(\neg\beta \vee \gamma)$, suy ra $(\alpha \vee \gamma)$. Đây là luật suy diễn hoàn chỉnh.</li>
                         </ul>
                    </div>
                    <div class="card col-span-1 md:col-span-2">
                        <h3 class="text-xl font-bold mb-2">Mệnh đề Horn và Suy diễn Chaining</h3>
                        <p class="text-stone-600">Mệnh đề Horn là mệnh đề có tối đa một literal dương. Chúng cho phép các thuật toán suy diễn hiệu quả:</p>
                        <ul class="list-disc list-inside mt-2 text-stone-600">
                           <li><b>Suy diễn tiến (Forward Chaining):</b> Hướng dữ liệu, đi từ các sự kiện đã biết đến kết luận.</li>
                           <li><b>Suy diễn lùi (Backward Chaining):</b> Hướng mục tiêu, đi từ mục tiêu cần chứng minh ngược về các điều kiện ban đầu.</li>
                        </ul>
                    </div>
                </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>
            
            <!-- Section: Lecture 10 -->
            <section id="lect10" class="content-section space-y-6">
                 <h2 class="text-3xl font-bold text-center text-teal-800">Bài 10: Tổng quan về Học máy</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">Học máy là lĩnh vực nghiên cứu thiết kế các chương trình máy tính có khả năng học hỏi từ kinh nghiệm hoặc thích ứng với sự thay đổi của môi trường.</p>
                 <div class="card">
                     <h3 class="text-xl font-bold mb-2">Chu trình thiết kế hệ thống học máy</h3>
                     <ol class="list-decimal list-inside mt-2 text-stone-600">
                         <li>Thu thập dữ liệu (Collect data)</li>
                         <li>Chọn đặc trưng (Choose features)</li>
                         <li>Chọn mô hình (Choose model)</li>
                         <li>Huấn luyện bộ phân lớp (Train classifier)</li>
                         <li>Đánh giá bộ phân lớp (Evaluate classifier)</li>
                     </ol>
                 </div>
                 <div class="card">
                     <h3 class="text-xl font-bold mb-2">Phân loại bài toán học máy</h3>
                     <ul class="list-disc list-inside mt-2 text-stone-600">
                         <li><b>Học có giám sát (Supervised Learning):</b> Học từ dữ liệu đã được gán nhãn. Gồm <b>Phân loại (Classification)</b> và <b>Hồi quy (Regression)</b>.</li>
                         <li><b>Học không giám sát (Unsupervised Learning):</b> Học từ dữ liệu không có nhãn để tìm ra cấu trúc ẩn. Ví dụ: <b>Phân cụm (Clustering)</b>.</li>
                         <li><b>Học tăng cường (Reinforcement Learning):</b> Tác tử học thông qua tương tác và nhận phần thưởng/phạt.</li>
                     </ul>
                 </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>
            
            <!-- Section: Lecture 11 -->
            <section id="lect11" class="content-section space-y-6">
                <h2 class="text-3xl font-bold text-center text-teal-800">Bài 11: Mạng Nơ-ron (Neural Network)</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-700 mb-8">Mạng nơ-ron là một mô hình học máy mạnh mẽ, lấy cảm hứng từ cấu trúc của bộ não người.</p>
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">Mô hình Nơ-ron và Kiến trúc mạng</h3>
                    <p class="mb-2 text-stone-600">Một nơ-ron nhân tạo nhận các đầu vào `p`, nhân chúng với các <b>trọng số (W)</b>, cộng thêm một <b>độ lệch (b)</b>, và đưa kết quả qua một <b>hàm truyền (f)</b> để tạo ra đầu ra `a`.</p>
                    <div class="bg-stone-100 p-4 rounded font-mono text-sm text-center">a = f(W * p + b)</div>
                    <p class="mt-2 text-stone-600">Các mạng có thể có một tầng (single-layer) hoặc nhiều tầng (multi-layer) với các lớp ẩn (hidden layers).</p>
                </div>
                 <div class="card">
                    <h3 class="text-xl font-bold mb-2">Mạng Perceptron</h3>
                     <p class="mb-4 text-stone-600">Là mạng nơ-ron một tầng đơn giản nhất, sử dụng hàm truyền `hardlim`. Nó tạo ra một <b>đường biên quyết định (decision boundary)</b> tuyến tính để phân loại dữ liệu.</p>
                     <h4 class="font-bold">Luật học Perceptron:</h4>
                     <p class="text-stone-600 text-sm mb-2">Cập nhật trọng số và độ lệch để giảm lỗi (e = target - actual):</p>
                     <div class="font-mono text-sm bg-stone-100 p-2 rounded">W_new = W_old + e * p<br>b_new = b_old + e</div>
                     <h4 class="font-bold mt-4">Hạn chế:</h4>
                     <p class="text-stone-600 text-sm">Perceptron chỉ giải được các bài toán phân loại tuyến tính và thất bại với các bài toán như XOR. Điều này thúc đẩy sự phát triển của mạng đa tầng.</p>
                 </div>
                 <div class="ai-assistant-card card mt-8 max-w-4xl mx-auto"></div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const nav = document.getElementById('main-nav');
            const contentContainer = document.getElementById('content-container');
            const sections = contentContainer.querySelectorAll('.content-section');
            let currentTopic = 'Giới thiệu AI';

            function getAIassistantHTML(topic) {
                return `
                    <h3 class="text-2xl font-bold mb-4 text-teal-700">Trợ lý AI</h3>
                    <div class="space-y-4">
                        <div><button class="generate-questions-btn bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 w-full md:w-auto">✨ Tạo câu hỏi ôn tập về ${topic}</button></div>
                        <div class="flex flex-col md:flex-row gap-2"><input type="text" class="concept-input flex-grow p-2 border rounded-md" placeholder="Nhập khái niệm cần giải thích..."><button class="explain-concept-btn bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 w-full md:w-auto">🔍 Giải thích</button></div>
                    </div>
                    <div class="ai-response-area mt-4 p-4 bg-stone-100 rounded-lg min-h-[100px] prose-styles"><p class="text-stone-500">Kết quả từ AI sẽ xuất hiện ở đây...</p></div>`;
            }

            document.querySelectorAll('.ai-assistant-card').forEach(card => {
                const topic = card.closest('.content-section').querySelector('h2').textContent.replace('Bài \\d+: ', '');
                card.innerHTML = getAIassistantHTML(topic);
            });

            nav.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') {
                    const targetId = e.target.dataset.target;
                    currentTopic = e.target.dataset.topic;
                    nav.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    sections.forEach(section => section.classList.toggle('active', section.id === targetId));
                }
            });

            async function callGemini(prompt, responseElement) {
                responseElement.innerHTML = '<div class="loader"></div>';
                const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] };
                const apiKey = "AIzaSyDXt5kAIJ8nXz7ass40L87VH2obLrXjB7Y";
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    if (!response.ok) throw new Error(`API error: ${response.statusText}`);
                    const result = await response.json();
                    if (result.candidates && result.candidates[0].content.parts.length > 0) {
                        responseElement.innerHTML = marked.parse(result.candidates[0].content.parts[0].text);
                    } else { throw new Error('No content received from API.'); }
                } catch (error) {
                    console.error("Gemini API call failed:", error);
                    responseElement.innerHTML = `<p class="text-rose-600">Đã xảy ra lỗi khi kết nối với AI. Vui lòng thử lại sau.</p>`;
                }
            }

            contentContainer.addEventListener('click', function(e) {
                const card = e.target.closest('.ai-assistant-card');
                if (!card) return;
                const responseArea = card.querySelector('.ai-response-area');
                if (e.target.classList.contains('generate-questions-btn')) {
                    const prompt = `Với vai trò là một trợ giảng môn Trí tuệ Nhân tạo, hãy tạo ra 10 câu hỏi trắc nghiệm (kèm đáp án và giải thích chi tiết dễ hiểu) để giúp sinh viên ôn tập về chủ đề "${currentTopic}". Vui lòng trả lời bằng tiếng Việt.`;
                    callGemini(prompt, responseArea);
                }
                if (e.target.classList.contains('explain-concept-btn')) {
                    const input = card.querySelector('.concept-input');
                    const concept = input.value.trim();
                    if (concept) {
                        const prompt = `Hãy giải thích khái niệm "${concept}" trong lĩnh vực Trí tuệ Nhân tạo một cách đơn giản, dễ hiểu cho sinh viên đang ôn thi, có thể kèm theo ví dụ. Vui lòng trả lời bằng tiếng Việt.`;
                        callGemini(prompt, responseArea);
                    } else { responseArea.innerHTML = '<p class="text-amber-600">Vui lòng nhập một khái niệm để được giải thích.</p>'; }
                }
            });

            // Search Algorithm Data (Uninformed)
            const algoDataUninformed = {
                'BFS': { name: 'BFS', complete: 'Có', optimal: 'Có*', time: 'O(b^d)', space: 'O(b^d)' },
                'UCS': { name: 'UCS', complete: 'Có', optimal: 'Có', time: 'O(b^(1+C*/ε))', space: 'O(b^(1+C*/ε))' },
                'DFS': { name: 'DFS', complete: 'Không**', optimal: 'Không', time: 'O(b^m)', space: 'O(bm)' },
                'IDS': { name: 'IDS', complete: 'Có', optimal: 'Có*', time: 'O(b^d)', space: 'O(bd)' }
            };
            const algoTableBodyUninformed = document.querySelector('#algo-table-uninformed tbody');
            function populateUninformedTable() {
                algoTableBodyUninformed.innerHTML = '';
                Object.values(algoDataUninformed).forEach(algo => {
                    const row = document.createElement('tr');
                    row.className = 'border-b hover:bg-stone-50';
                    row.innerHTML = `<td class="p-2 font-medium">${algo.name}</td><td class="p-2">${algo.complete}</td><td class="p-2">${algo.optimal}</td><td class="p-2 font-mono">${algo.time}</td><td class="p-2 font-mono">${algo.space}</td>`;
                    algoTableBodyUninformed.appendChild(row);
                });
                algoTableBodyUninformed.innerHTML += `<tr class="bg-stone-50"><td colspan="5" class="p-2 text-xs text-stone-500">*Khi chi phí bước bằng nhau. **Trong không gian vô hạn hoặc có chu trình.</td></tr>`;
            }
            if (algoTableBodyUninformed) populateUninformedTable();


            // CSP Logic
            const startCspBtn = document.getElementById('start-csp');
            const resetCspBtn = document.getElementById('reset-csp');
            const cspLog = document.getElementById('csp-log');
            const cspMapDivs = Array.from(document.querySelectorAll('#csp-map > div[data-id]'));
            const cspData = {
                variables: ['WA', 'NT', 'SA', 'Q', 'NSW', 'V'],
                colors: ['bg-red-500', 'bg-green-500', 'bg-blue-500'],
                neighbors: { 'WA': ['NT', 'SA'], 'NT': ['WA', 'SA', 'Q'], 'SA': ['WA', 'NT', 'Q', 'NSW', 'V'], 'Q': ['NT', 'SA', 'NSW'], 'NSW': ['Q', 'SA', 'V'], 'V': ['SA', 'NSW'] }
            };
            let cspInterval;

            function resetCsp() {
                clearInterval(cspInterval);
                cspMapDivs.forEach(div => {
                    div.className = div.className.replace(/bg-(red|green|blue)-500/g, 'bg-white');
                    div.innerText = div.dataset.id;
                });
                cspLog.innerHTML = '<p class="font-mono text-sm">Nhấn "Bắt đầu" để xem các bước giải...</p>';
            }

            function solveCsp() {
                resetCsp();
                let assignments = {}; let log = []; let step = 0;
                function isConsistent(variable, colorIndex, currentAssignments) { return cspData.neighbors[variable].every(neighbor => currentAssignments[neighbor] !== colorIndex); }
                function backtrack(currentAssignments, varIndex) {
                    if (varIndex >= cspData.variables.length) return true;
                    const variable = cspData.variables[varIndex];
                    for (let i = 0; i < cspData.colors.length; i++) {
                        log.push({ var: variable, color: i, status: 'TRY' });
                        if (isConsistent(variable, i, currentAssignments)) {
                            currentAssignments[variable] = i; log.push({ var: variable, color: i, status: 'ASSIGN' });
                            if (backtrack(currentAssignments, varIndex + 1)) return true;
                            log.push({ var: variable, color: i, status: 'BACKTRACK' }); delete currentAssignments[variable];
                        } else { log.push({ var: variable, color: i, status: 'CONFLICT' }); }
                    } return false;
                }
                backtrack(assignments, 0);
                cspInterval = setInterval(() => {
                    if (step >= log.length) { clearInterval(cspInterval); cspLog.innerHTML += '<p class="font-mono text-sm font-bold text-teal-600 mt-2">Đã tìm thấy nghiệm!</p>'; return; }
                    const action = log[step];
                    const div = document.querySelector(`#csp-map > div[data-id="${action.var}"]`);
                    if (action.status === 'ASSIGN') {
                        cspLog.innerHTML += `<p class="font-mono text-sm">Gán <span class="font-bold text-teal-700">${action.var}</span> = ${cspData.colors[action.color].split('-')[1]}</p>`;
                        div.className = div.className.replace(/bg-white/g, cspData.colors[action.color]);
                    } else if (action.status === 'BACKTRACK') {
                        cspLog.innerHTML += `<p class="font-mono text-sm text-rose-600">Quay lui từ ${action.var}</p>`;
                        div.className = div.className.replace(/bg-(red|green|blue)-500/g, 'bg-white');
                    } else if (action.status === 'CONFLICT') {
                        // Don't log conflict to reduce noise
                    } else if (action.status === 'TRY'){
                         // Don't log try to reduce noise
                    }
                    cspLog.scrollTop = cspLog.scrollHeight; step++;
                }, 400);
            }
            if(startCspBtn) startCspBtn.addEventListener('click', solveCsp);
            if(resetCspBtn) resetCspBtn.addEventListener('click', resetCsp);
        });
    </script>
</body>
</html>
